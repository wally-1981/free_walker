<header class="container lh-34">
    <div class="row" data-ng-show="!showSubPage">
        <div class="col-xs-4" >
            <i class="fa fa-chevron-circle-left" data-ng-click="goBack();" data-ng-show="pageIndex > 0"></i>
        </div>
        <div class="col-xs-4 text-center">定制路线</div>
        <div class="col-xs-4 text-right"></div>
    </div>
    <div class="row" data-ng-show='showSubPage'>
        <div class="col-xs-4" data-ng-click="showSubPage = false;">
            <i class="fa fa-angle-double-left"></i>
        </div>
        <div class="col-xs-4 text-center">支付</div>
    </div>
</header>
<div id="preproduct-frame" data-ng-show="!showSubPage" class="container">
    <div id="main-info">
    	<div class="col-xs-12" style="background-image:url('images/chambord.jpg');background-size:cover; height:190px; padding-left:0px; padding-right:0px">
    		<div class="col-xs-12" style="height:100px; ">
    		</div>
    		<div class="col-xs-12" style="color:#fff; background:rgba(0, 0, 0, 0.5); height:20px; font-size: 16px; line-height:20px">
	        	{{ preproduct.title }}
	        </div>
    		<div class="col-xs-12" style="color:#fff; background:rgba(0, 0, 0, 0.5); height:16px; font-size: 12px; line-height:16px">
	            	<i class="fa fa-plane"></i> {{ preproduct.departDate }} &nbsp;&nbsp;
	            	<i class="fa fa-plane mirror"></i> {{ preproduct.returnDate }} &nbsp;&nbsp;
	        </div>
	        <div class="col-xs-12" style="color:#fff; background:rgba(0, 0, 0, 0.5); height:30px; font-size: 12px">
	        	<div style="width: {{ 100/preproduct.prices.length }}%; height:100%; display: inline-block;" data-ng-repeat="price in preproduct.prices">
	        		<i class="fa fa-cny"></i> {{ price.price }} <br/><i class="fa fa-user"></i> {{ price.attdNum }}	        		
	        	</div>
	        </div>
	        <div class="col-xs-12" style="color:#fff; background:rgba(0, 0, 0, 0.5); height:24px; font-size: 12px">
	        	<div id="arrow-holder" style="width:100%; padding-right:10px">
	        		<div class="stroke_container" style="width: {{ 100/preproduct.prices.length }}%" data-ng-repeat="price in preproduct.prices"><div data-ng-if="$index == preproduct.prices.length-1" class="stroke_tail"></div><div data-ng-if="$index != preproduct.prices.length-1" class="stroke"></div></div>
	        	</div> 
	        </div>
	    </div>
    </div>
    
    <div id="preproduct-itineraries" class="row">
        <div class="info-heading col-xs-12 text-center">
            <i class="fa fa-calendar"></i>&nbsp;行程安排
        </div>
        <div class="col-xs-12 itineraries" data-ng-repeat="itinerary in preproduct.itineraries">
             <div data-ng-click="toggleItiDetail($index)" class="itiSummary roundCornerBox shadowBox">
             	<span  data-ng-repeat="transport in itinerary.transports"><i class="fa fa-{{ transport }}"></i>&nbsp;</span>
             	第{{ $index + 1 }}天 {{ itinerary.startDate }} ({{ itinerary.startWeekday }}):<br/>
             </div>
             <div id="iti{{$index}}" class="roundCornerBox" style="display:none; width:100%; word-wrap:break-word; word-break:break-all; white-space:normal">
             	{{ itinerary.description }}<br/>
             	住宿： {{ itinerary.lodging }}
             </div>
        </div>
    </div>
    <div id="preproduct-options" class="row">
        <div class="info-heading col-xs-12 text-center">
            <i class="fa fa-gift"></i>&nbsp;可选项目
        </div>
        <div class="col-xs-12 itineraries" data-ng-repeat="option in preproduct.options">
             <div class=" roundCornerBox" data-ng-click="toggleCheckStatus($event)">
             	 <span>{{ option.content }}<i class="float-right fa fa-square-o" style="font-size:20px;"></i></span>
             </div>
        </div>
    </div>
    <div id="preproduct-next-button" class="row">
    	<div class="col-xs-6 col-xs-push-3">
    		<button type="button" data-ng-click="toSubPage('payment',$event)">{{btnName}}</button>
    	</div>
    </div>
    <div class="menu-place-holder"></div>
</div>
<div id="preproduct-frame2" data-ng-show="showSubPage && subPage == 'payment'" class="container">
	<div id="preproduct-pay-mode-selection" class="row">
		<div id="paymode-switch" class="text-center">
			<div id="switch-bank" class="col-xs-6"><i class="fa fa-credit-card"></i> 银行快捷支付</div> <div id="switch-wechat" class="col-xs-6" style="background-color:whitesmoke"><i class="fa fa-cc-visa"></i> 信用卡支付</div>
		</div>
		<ul class="col-xs-12 option_list">
			<h4>订单详情</h4>
			<li data-ng-repeat="option in checkedOptions">
				{{option.content}}
				<div class="float-right">
					{{option.price}}&nbsp;&times;&nbsp;<i class="fa fa-minus" data-ng-click="decrease(option)"></i><span class="quantity">{{option.quantity}}</span><i data-ng-click="increase(option)" class="fa fa-plus"></i>
				</div>
			</li>
		</ul>
		<div class="text-right col-xs-12">总计：{{totalFee}}</div>
		<div id="paymode-content" class="col-xs-12">
			银行卡号&nbsp;&nbsp;&nbsp;
			<input type="text" style="width:190px"/><br/>
			预留手机号
			<input type="text" style="width:110px"/><br/>
			手机验证码
			<input type="text" style="width:80px"/>
			<button type="button" data-ng-click="changeButtonStyle()">获取验证码</button>
		</div>
	</div>
	<div id="preproduct-pay-button" class="row">
    	<div class="col-xs-6 col-xs-push-3">
    		<button type="button" data-ng-click="switchView('postPay')">确认支付</button>
    	</div>
    </div>
    <div class="menu-place-holder"></div>
</div>
<div data-ng-include="include"></div>
<link href="css/preproduct.css" rel="stylesheet"/>
<link href="css/stroke.css" rel="stylesheet"/>
